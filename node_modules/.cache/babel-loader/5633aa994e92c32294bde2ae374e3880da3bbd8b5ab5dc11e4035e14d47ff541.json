{"ast":null,"code":"import{createContext,useState}from\"react\";import{getProductData}from\"./productsArr\";// Define the context with a default value\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const cartcontext=/*#__PURE__*/createContext({items:[],getProductQuantity:()=>{},addOneToCart:()=>{},removeOneFromCart:()=>{},deleteFromCart:()=>{},getTotalCost:()=>{}});export function CartProvider(_ref){let{children}=_ref;const[cartProducts,setCartProducts]=useState([]);function getProductQuantity(id){var _cartProducts$find;const quantity=(_cartProducts$find=cartProducts.find(product=>product.id===id))===null||_cartProducts$find===void 0?void 0:_cartProducts$find.quantity;return quantity===undefined?0:quantity;}function addOneToCart(id){const quantity=getProductQuantity(id);const productData=getProductData(id);if(quantity===0){setCartProducts([...cartProducts,{id:id,quantity:1,title:productData.title,image:productData.image}]);}else{setCartProducts(cartProducts.map(product=>product.id===id?{...product,quantity:product.quantity+1}:product));}}function removeOneFromCart(id){const quantity=getProductQuantity(id);if(quantity===1){deleteFromCart(id);}else{setCartProducts(cartProducts.map(product=>product.id===id?{...product,quantity:product.quantity-1}:product));}}function deleteFromCart(id){setCartProducts(cartProducts=>cartProducts.filter(currentProduct=>currentProduct.id!==id));}function getTotalCost(){return cartProducts.reduce((totalCost,cartItem)=>{const productData=getProductData(cartItem.id);return totalCost+productData.price*cartItem.quantity;},0);}const contextvalue={items:cartProducts,getProductQuantity,addOneToCart,removeOneFromCart,deleteFromCart,getTotalCost};return/*#__PURE__*/_jsx(cartcontext.Provider,{value:contextvalue,children:children});}","map":{"version":3,"names":["createContext","useState","getProductData","jsx","_jsx","cartcontext","items","getProductQuantity","addOneToCart","removeOneFromCart","deleteFromCart","getTotalCost","CartProvider","_ref","children","cartProducts","setCartProducts","id","_cartProducts$find","quantity","find","product","undefined","productData","title","image","map","filter","currentProduct","reduce","totalCost","cartItem","price","contextvalue","Provider","value"],"sources":["/Users/clairec/Desktop/store/ecommerce-site/src/cartcontext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\nimport { getProductData } from \"./productsArr\";\n\n\n// Define the context with a default value\nexport const cartcontext = createContext({\n    items: [],\n    getProductQuantity: () => {},\n    addOneToCart: () => {},\n    removeOneFromCart: () => {},\n    deleteFromCart: () => {},\n    getTotalCost: () => {},\n});\n\nexport function CartProvider({ children }) {\n    const [cartProducts, setCartProducts] = useState([]);\n\n    function getProductQuantity(id) {\n        const quantity = cartProducts.find((product) => product.id === id)?.quantity;\n        return quantity === undefined ? 0 : quantity;\n    }\n\n    function addOneToCart(id) {\n        const quantity = getProductQuantity(id);\n        const productData = getProductData(id);\n\n        if (quantity === 0) {\n            setCartProducts([\n                ...cartProducts,\n                { \n                    id: id, \n                    quantity: 1,\n                    title: productData.title,\n                    image: productData.image\n                },\n            ]);\n        } else {\n            setCartProducts(\n                cartProducts.map((product) =>\n                    product.id === id\n                        ? { ...product, quantity: product.quantity + 1 }\n                        : product\n                )\n            );\n        }\n    }\n\n    function removeOneFromCart(id) {\n        const quantity = getProductQuantity(id);\n        if (quantity === 1) {\n            deleteFromCart(id);\n        } else {\n            setCartProducts(\n                cartProducts.map((product) =>\n                    product.id === id\n                        ? { ...product, quantity: product.quantity - 1 }\n                        : product\n                )\n            );\n        }\n    }\n\n    function deleteFromCart(id) {\n        setCartProducts((cartProducts) =>\n            cartProducts.filter((currentProduct) => currentProduct.id !== id)\n        );\n    }\n\n    function getTotalCost() {\n        return cartProducts.reduce((totalCost, cartItem) => {\n            const productData = getProductData(cartItem.id);\n            return totalCost + productData.price * cartItem.quantity;\n        }, 0);\n    }\n\n    const contextvalue = {\n        items: cartProducts,\n        getProductQuantity,\n        addOneToCart,\n        removeOneFromCart,\n        deleteFromCart,\n        getTotalCost,\n    };\n\n    return (\n        <cartcontext.Provider value={contextvalue}>\n            {children}\n        </cartcontext.Provider>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}