{"ast":null,"code":"import'../styles/navbar.css';import{Col,Button,Navbar,Nav,Modal}from'react-bootstrap';import{useContext,useState}from'react';import{cartcontext}from'../cartcontext';import CartProduct from'./CartProduct';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function NavBarComponent(){const cart=useContext(cartcontext);const[show,setShow]=useState(false);const handleClose=()=>setShow(false);const handleShow=()=>setShow(true);const checkout=async()=>{console.log(\"checkout!\");await fetch('http://localhost:4000/checkout',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({items:cart.items})}).then(response=>{return response.json();}).then(response=>{if(response.url){window.location.assign(response.url);//forward to stripe!\n}});};const productsCount=cart.items.reduce((sum,product)=>sum+product.quantity,0);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Navbar,{expand:\"sm\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:\"claire's crochet!\"}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/\",children:\"home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"store\",children:\"store\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"aboutme\",children:\"about me\"})]}),/*#__PURE__*/_jsx(Navbar.Toggle,{}),/*#__PURE__*/_jsx(Navbar.Collapse,{className:\"justify-content-end\",children:/*#__PURE__*/_jsxs(Button,{onClick:handleShow,children:[\"Cart: (\",productsCount,\" Items)\"]})})]}),/*#__PURE__*/_jsxs(Modal,{style:{},show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"contained-modal-title-vcenter\",children:\"Shopping Cart\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:productsCount>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Items in your cart!\"}),cart.items.map((currentProduct,idx)=>/*#__PURE__*/_jsx(Col,{align:\"center\",children:/*#__PURE__*/_jsx(CartProduct,{product:currentProduct})},idx)// <h1 key={idx}>{currentProduct.title}</h1>\n),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Total: \",cart.getTotalCost().toFixed(2)]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:checkout,children:\"Purchase items!\"})]}):/*#__PURE__*/_jsx(\"h1\",{children:\"no items!\"})})]})]});}export default NavBarComponent;","map":{"version":3,"names":["Col","Button","Navbar","Nav","Modal","useContext","useState","cartcontext","CartProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavBarComponent","cart","show","setShow","handleClose","handleShow","checkout","console","log","fetch","method","headers","body","JSON","stringify","items","then","response","json","url","window","location","assign","productsCount","reduce","sum","product","quantity","children","expand","Brand","href","className","Link","Toggle","Collapse","onClick","style","onHide","Header","closeButton","Title","id","Body","map","currentProduct","idx","align","getTotalCost","toFixed","variant"],"sources":["/Users/clairec/Desktop/store/ecommerce-site/src/components/navbar.js"],"sourcesContent":["import '../styles/navbar.css';\nimport { Col, Button, Navbar, Nav, Modal } from 'react-bootstrap'\nimport { useContext, useState } from 'react';\nimport { cartcontext } from '../cartcontext';\nimport CartProduct from './CartProduct';\n\nfunction NavBarComponent () {\n    const cart = useContext(cartcontext);\n    const [ show, setShow ] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    const checkout = async () => {\n        console.log(\"checkout!\");\n        await fetch('http://localhost:4000/checkout', {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({items: cart.items})\n        }).then((response) => {\n            return response.json();\n        }).then((response) => {\n            if(response.url) {\n                window.location.assign(response.url); //forward to stripe!\n            }\n        })\n    }\n\n    const productsCount = cart.items.reduce((sum, product) => sum + product.quantity, 0);\n\n    return (\n        <>\n        <Navbar expand=\"sm\">\n        <Navbar.Brand href='/'>claire's crochet!</Navbar.Brand>\n        <Nav className=\"me-auto\"> \n            <Nav.Link href='/'>home</Nav.Link>\n            <Nav.Link href=\"store\">store</Nav.Link>\n            <Nav.Link href='aboutme'>about me</Nav.Link>\n        </Nav>\n        <Navbar.Toggle/>\n        <Navbar.Collapse className='justify-content-end'>\n            <Button onClick={handleShow}>Cart: ({productsCount} Items)</Button>\n        </Navbar.Collapse>\n        </Navbar>\n        <Modal style={{}} show={show} onHide={handleClose}>\n            <Modal.Header closeButton>\n                <Modal.Title id='contained-modal-title-vcenter'>Shopping Cart</Modal.Title>\n            </Modal.Header>\n                <Modal.Body>\n                    {productsCount > 0 ? \n                        <>\n                            <p>Items in your cart!</p>\n                            {cart.items.map((currentProduct, idx) => (\n                                <Col align=\"center\" key={idx}>\n                               <CartProduct product={currentProduct}></CartProduct>\n                               </Col> \n                               // <h1 key={idx}>{currentProduct.title}</h1>\n                            ))}\n\n                            <h1>Total: {cart.getTotalCost().toFixed(2)}</h1>\n                            <Button variant=\"success\" onClick={checkout}> \n                                Purchase items!\n                            </Button>\n                        </>\n                    :\n                        <h1>no items!</h1>\n                    }\n                </Modal.Body>\n        </Modal>\n        </>\n    )\n}\n\nexport default NavBarComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}